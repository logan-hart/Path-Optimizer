!function(){var t={382:function(t){function e(){this.graph=g,this.nodes=this.graph.nodes,this.paths=this.graph.paths,this.startNode=this.nodes.find((t=>"start"===t.selected)),this.startNode||(this.startNode=this.nodes[0],this.nodes[0].selected="start"),this.endNode=this.nodes.find((t=>"end"===t.selected)),this.endNode||(this.endNode=this.nodes[this.nodes.length-1],this.nodes[this.nodes.length-1].selected="end"),this.visitedNodes=[]}e.prototype.determinePathing=function(){let t=this.buildMap(),e=this.startNode.name,s=Object.keys(t),n={},o={};for(Object.keys(t).forEach((function(t){o[t]=[]})),this.nodes.forEach((function(t){n[t.name]=1/0})),n[e]=0,o[e]=[0,e];s.length>0;){e=Object.entries(n).filter((t=>{let[e]=t;return s.includes(e)})).sort(((t,e)=>t[1]-e[1]))[0][0],this.visitedNodes.push(e),s=s.filter((t=>t!==e));let i=n[e];Object.keys(t[e]).forEach((function(s){n[s]>t[e][s]+i&&(n[s]=t[e][s]+i),0===o[s].length&&(o[s]=[t[e][s]+i,e])}))}this.path=o},e.prototype.buildMap=function(){let t={};for(let e=0;e<this.nodes.length;e++)t[this.nodes[e].name]||(t[this.nodes[e].name]=this.nodes[e].neighbors);return t},e.prototype.shortestPath=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let e=this.endNode.name,s=[];for(;e!==this.startNode.name;)s.push(e),e=this.path[e][1];return t.indexOf(this.startNode.name)>t.indexOf(this.endNode.name)?s.concat(this.startNode.name):s.concat(this.startNode.name).reverse()},e.prototype.animateNodes=function(t){let e=this.visitedNodes.slice(0),s=this;return new Promise((n=>{setInterval((function(){if(e.length>0){let n=e.shift();s.nodes.find((t=>t.name===n)).status="visited",s.graph.draw(t)}else n()}),this.graph.delay)}))},e.prototype.animatePath=async function(t){await this.animateNodes(t);let e=this,s=e.shortestPath();for(let n=0;n<s.length-1;n++)current=e.paths.find((t=>t.parentNode.name===s[n]&&t.childNode.name===s[n+1])),current.status="shortest",e.graph.draw(t)},t.exports=e},201:function(t){function e(){this.nodes=[],this.nodeHitBoxes={},this.startingNodes=[[100,175],[200,400],[400,75],[550,500],[750,100],[850,325]],this.paths=[],this.pathHitBoxes=[],this.delay=500,this.placeNodes(),this.placePaths(),this.buildHitBoxes()}function s(t,e){return(t=new Path2D).moveTo(g.paths[e].startPos[0],g.paths[e].startPos[1]),t.lineTo(g.paths[e].endPos[0],g.paths[e].endPos[1]),ctx.lineWidth=8,ctx.strokeStyle="red",ctx.stroke(t),t}e.prototype.placeNodes=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");for(let e=0;e<this.startingNodes.length;e++)this.nodes.push(new Node(t[e],this.startingNodes[e]))},e.prototype.buildHitBoxes=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");for(let e=0;e<this.startingNodes.length;e++)this.nodeHitBoxes[t[e]]=[this.startingNodes[e][1]-13,this.startingNodes[e][1]+13,this.startingNodes[e][0]-13,this.startingNodes[e][0]+13]},e.prototype.placePaths=function(){console.log(this);let t=[[this.nodes[0],this.nodes[1],"none"],[this.nodes[0],this.nodes[2],"none"],[this.nodes[1],this.nodes[2],"none"],[this.nodes[1],this.nodes[3],"none"],[this.nodes[2],this.nodes[3],"none"],[this.nodes[2],this.nodes[4],"none"],[this.nodes[3],this.nodes[4],"none"],[this.nodes[3],this.nodes[5],"none"],[this.nodes[4],this.nodes[5],"none"]],e=this;t.forEach((function(t){e.paths.push(new Path(t[0],t[1]))}))},e.prototype.draw=function(t){t.clearRect(0,0,970,600),t.fillStyle="#fbfbfb",t.fillRect(0,0,970,600),this.placePathHBs(),this.paths.forEach((function(e){e.draw(t)}));for(let e=0;e<this.nodes.length;e++)this.nodes[e].draw(t);this.nodes.forEach((function(e){e.draw(t)})),this.annotate(t)},e.prototype.placePathHBs=function(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");for(let e=0;e<this.paths.length;e++)this.pathHitBoxes.push(s(t[e],e))},e.prototype.annotate=function(t){this.nodes.forEach((function(e){t.lineWidth=1.5,t.strokeStyle="black",t.strokeText(`${e.name}`,e.pos[0]+20,e.pos[1]+20)}))},e.prototype.clearSelected=function(){Object.keys(g.nodes).forEach((function(t){g.nodes[t].selected=null}))},t.exports=e},959:function(t){function e(t,e){this.name=t,this.pos=e,this.radius=10,this.neighbors={},this.status="unvisited",this.selected=null}e.prototype.draw=function(t){const e=2*Math.PI/6;t.beginPath();for(var s=0;s<6;s++)t.lineTo(this.pos[0]+13*Math.cos(e*s),this.pos[1]+13*Math.sin(e*s));null===this.selected?(t.strokeStyle="black",t.lineWidth=3):"start"===this.selected?(t.strokeStyle="green",t.lineWidth=7):"end"===this.selected&&(t.strokeStyle="red",t.lineWidth=7),"visited"!==this.status?t.fillStyle="white":t.fillStyle="#0288d1",t.closePath(),t.stroke(),t.fill()},t.exports=e},302:function(t){function e(t,e,s){this.parentNode=t,this.childNode=e,this.startPos=this.getStartPos(),this.endPos=this.getEndPos(),this.delta=[Math.abs(this.startPos[0]-this.endPos[0]),Math.abs(this.startPos[1]-this.endPos[1])],this.distance=this.calculateDistance(),this.traffic="none",this.weight=this.calculateWeight(),this.status="none",this.associations()}e.prototype.getStartPos=function(){return this.parentNode.pos},e.prototype.getEndPos=function(){return this.childNode.pos},e.prototype.calculateDistance=function(){let t=this.startPos[0]-this.endPos[0],e=this.startPos[1]-this.endPos[1],s=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return Math.round(s/96*10)/10},e.prototype.calculateWeight=function(){return"light"===this.traffic||"medium"===this.traffic?Math.floor(1.2*this.distance):"heavy"===this.traffic?Math.floor(1.8*this.distance):this.distance},e.prototype.draw=function(t){t.beginPath(),"light"===this.traffic?(t.strokeStyle="yellow",t.lineWidth=4):"medium"===this.traffic?(t.strokeStyle="orange",t.lineWidth=4):"heavy"===this.traffic?(t.strokeStyle="red",t.lineWidth=4):"shortest"===this.status?(t.strokeStyle="#0288d1",t.lineWidth=8):(t.strokeStyle="black",t.lineWidth=1),t.moveTo(this.startPos[0],this.startPos[1]),t.lineTo(this.endPos[0],this.endPos[1]),t.stroke()},e.prototype.associations=function(){this.parentNode.neighbors[this.childNode.name]=this.weight,this.childNode.neighbors[this.parentNode.name]=this.weight},t.exports=e}},e={};function s(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,s),i.exports}!function(){const t=s(959),e=s(302),n=s(201),o=s(382);document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("canvas");t.width=970,t.height=600;const e=t.getContext("2d");window.ctx=e,e.fillStyle="#F5FCFF",e.fillRect(0,0,970,600),e.font="20px helvetica",g=new n,g.draw(e);const s=document.getElementById("startbutton"),i=document.getElementById("resetbutton");function a(t,e){let s=t.getBoundingClientRect();return[e.clientX-s.left,e.clientY-s.top]}s.addEventListener("click",(t=>{t.preventDefault(),algo=new o,algo.determinePathing(),algo.animateNodes(e),algo.animatePath(e),s.disabled=!0,setTimeout((function(){s.disabled=!1}),8*g.delay),i.disabled=!0,setTimeout((function(){i.disabled=!1}),8*g.delay)})),i.addEventListener("click",(t=>{t.preventDefault(),algo.nodes.forEach((function(t){t.status="unvisited"})),algo.paths.forEach((function(t){t.status="none",t.traffic="none"})),g.clearSelected(),algo.graph.draw(e)})),t.addEventListener("click",(function(s){let n=a(t,s);Object.keys(g.nodeHitBoxes).forEach((function(t){let s=g.nodeHitBoxes[t];if(n[0]>s[2]&&n[0]<s[3]&&n[1]>s[0]&&n[1]<s[1]){let s=g.nodes.find((e=>e.name===t)),n=function(){let t=0,e=0;return Object.keys(g.nodes).forEach((function(s){let n=g.nodes[s];"start"===n.selected?t+=1:"end"===n.selected&&(e+=1)})),0===t&&0===e?-1:1===t&&0===e?0:1}();-1===n?s.selected="start":0===n&&"start"!==s.selected?s.selected="end":g.clearSelected(),g.draw(e)}}))}));let h,d,r,c,l=!1;t.addEventListener("mousedown",(function(e){c=a(t,e),h=c[0],d=c[1],Object.keys(g.nodeHitBoxes).forEach((function(t){let e=g.nodeHitBoxes[t];if(c[0]>e[2]&&c[0]<e[3]&&c[1]>e[0]&&c[1]<e[1])return r=g.nodes.find((e=>e.name===t)),void(l=!0)}))})),t.onmouseup=function(t){t.preventDefault(),l&&(l=!1)},t.onmouseout=function(t){t.preventDefault(),l&&(l=!1)},t.onmousemove=function(s){if(l){s.preventDefault();let n=a(t,s),o=n[0]-h,i=n[1]-d;r.pos[0]+=o,r.pos[1]+=i,g.draw(e),h=n[0],d=n[1],g.paths.forEach((function(t){t.distance=t.calculateDistance(),t.weight=t.calculateWeight(),t.associations()})),g.buildHitBoxes()}};const u=document.querySelectorAll("[data-modal-target]"),f=document.querySelectorAll("[data-close-button]"),p=document.getElementById("overlay");function m(t){null!=t&&(t.classList.remove("active"),p.classList.remove("active"))}p.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((t=>{m()}))})),u.forEach((t=>{t.addEventListener("click",(()=>{var e;null!=(e=document.querySelector(t.dataset.modalTarget))&&(e.classList.add("active"),p.classList.add("active"))}))})),f.forEach((t=>{t.addEventListener("click",(()=>{m(t.closest(".modal"))}))})),document.getElementById("myRange").oninput=function(){g.delay=1e3-this.value},t.addEventListener("click",(s=>{let n=a(t,s);g.pathHitBoxes.forEach((function(t){this.ctx.isPointInStroke(t,n[0],n[1])&&(g.paths[g.pathHitBoxes.indexOf(t)].traffic="light",g.draw(e))}))}))})),window.Node=t,window.Path=e,window.Graph=n,window.Algorithm=o}()}();
//# sourceMappingURL=main.js.map